// Autogenerated file (from src/hardware_indep/multi_controlplane.c.py: via hardware_indep/multi_controlplane.c.py), do not modify directly.
// Generator: T4P4S (https://github.com/P4ELTE/t4p4s/)

#include <unistd.h>

#include "dpdk_lib.h"
#include "dpdk_primitives.h" // TODO remove
#include "actions.h"
#include "tables.h"

#if T4P4S_MULTI_IDX == 0
    void make_ipv4_lpm_0_set_default_table_entry(ENTRY(ipv4_lpm_0)* entry, const char* action_name, p4_action_parameter_t** action_params) {
        if (strcmp(".set_nhop", action_name) == 0) {
            entry->id = action_set_nhop;
            uint8_t* param_nhgroup_1 = (uint8_t*)action_params[0]->bitmap;
            memcpy(&entry->params.set_nhop_params.nhgroup_1, param_nhgroup_1, 4);
            debug(" " T4LIT(ctl>,incoming) " Set " T4LIT(default action,action) " for " T4LIT(ipv4_lpm,table) ": " T4LIT(set_nhop,action) "\n");
            return;
        }
        if (strcmp("._drop", action_name) == 0) {
            entry->id = action__drop;
            debug(" " T4LIT(ctl>,incoming) " Set " T4LIT(default action,action) " for " T4LIT(ipv4_lpm,table) ": " T4LIT(._drop,action) "\n");
            return;
        }
        if (strcmp(".NoAction", action_name) == 0) {
            entry->id = action_NoAction_1;
            debug(" " T4LIT(ctl>,incoming) " Set " T4LIT(default action,action) " for " T4LIT(ipv4_lpm,table) ": " T4LIT(.NoAction,action) "\n");
            return;
        }
        
        debug("   " T4LIT(!!,warning) " Table setdefault on table " T4LIT(ipv4_lpm,table) ": action name " T4LIT(mismatch,warning) " " T4LIT(%s,action) ", expected one of (" T4LIT(.set_nhop,action) ", " T4LIT(._drop,action) ", " T4LIT(.NoAction,action) ")\n", action_name);
        entry->id = INVALID_ACTION;
    }
#endif // T4P4S_MULTI_IDX == 0

#if T4P4S_MULTI_IDX == 1
    void make_nexthops_0_set_default_table_entry(ENTRY(nexthops_0)* entry, const char* action_name, p4_action_parameter_t** action_params) {
        if (strcmp(".forward", action_name) == 0) {
            entry->id = action_forward;
            uint8_t* param_dmac_val = (uint8_t*)action_params[0]->bitmap;
            uint8_t* param_smac_val = (uint8_t*)action_params[1]->bitmap;
            uint8_t* param_port = (uint8_t*)action_params[2]->bitmap;
            memcpy(&entry->params.forward_params.dmac_val, param_dmac_val, 6);
            memcpy(&entry->params.forward_params.smac_val, param_smac_val, 6);
            memcpy(&entry->params.forward_params.port, param_port, 2);
            debug(" " T4LIT(ctl>,incoming) " Set " T4LIT(default action,action) " for " T4LIT(nexthops,table) ": " T4LIT(forward,action) "\n");
            return;
        }
        if (strcmp("._drop", action_name) == 0) {
            entry->id = action__drop_1;
            debug(" " T4LIT(ctl>,incoming) " Set " T4LIT(default action,action) " for " T4LIT(nexthops,table) ": " T4LIT(._drop,action) "\n");
            return;
        }
        if (strcmp(".NoAction", action_name) == 0) {
            entry->id = action_NoAction_2;
            debug(" " T4LIT(ctl>,incoming) " Set " T4LIT(default action,action) " for " T4LIT(nexthops,table) ": " T4LIT(.NoAction,action) "\n");
            return;
        }
        
        debug("   " T4LIT(!!,warning) " Table setdefault on table " T4LIT(nexthops,table) ": action name " T4LIT(mismatch,warning) " " T4LIT(%s,action) ", expected one of (" T4LIT(.forward,action) ", " T4LIT(._drop,action) ", " T4LIT(.NoAction,action) ")\n", action_name);
        entry->id = INVALID_ACTION;
    }
#endif // T4P4S_MULTI_IDX == 1

